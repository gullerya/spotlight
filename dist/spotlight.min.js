const t=Symbol("entries.list"),e=Symbol("current.entry"),n=Symbol("next.method"),o=Symbol("prev.method"),s=Symbol("move.to.method");export function callout(e){const o=(Array.isArray(e)?e:[e]).filter(t=>t&&t.target&&t.target.nodeType===Node.ELEMENT_NODE&&t.content).map(t=>{const e={target:t.target};if(t.content.nodeType===Node.DOCUMENT_FRAGMENT_NODE)e.content=t.content;else{const n=document.createDocumentFragment();n.appendChild(document.createTextNode(t.content)),e.content=n}return e});if(!o.length)return void console.error("no (valid) targets to call out over");const s=document.createElement("call-out"),l=window.getComputedStyle(document.documentElement).overflow;document.documentElement.style.overflow="hidden",document.documentElement.appendChild(s),s[t]=o,s[n](),s.addEventListener("close",()=>{document.documentElement.style.overflow=l})};const l=document.createElement("template");l.innerHTML='\n\t<style>\n\t\t:host {\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tz-index: 9999;\n\t\t\toverflow: hidden;\n\t\t}\n\n\t\t.man-pan {\n\t\t\tposition: absolute;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t\twidth: 100%;\n\t\t\tcursor: default;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t.man-pan.above {\n\t\t\ttop: 48px;\n\t\t}\n\n\t\t.man-pan.below {\n\t\t\tbottom: 48px;\n\t\t}\n\n\t\t.button {\n\t\t\tflex: 0 0 48px;\n\t\t\theight: 32px;\n\t\t\tmargin: 0 8px;\n\t\t\tborder: 1px solid #646464;\n\t\t\tborder-radius: 8px;\n\t\t\tbox-sizing: border-box;\n\t\t\tbox-shadow: inset 0 16px 24px 0px rgba(96, 96, 96, 0.4);\n\t\t\tbackground-color: #fff;\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: bold;\n\t\t\tline-height: 32px;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.callout-vilon {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\n\t\t.mask-overlay {\n\t\t\tx: 0;\n\t\t\ty: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tfill: #aaa;\n\t\t}\n\n\t\t.mask-window {\n\t\t\tx: calc(50% - 12px);\n\t\t\ty: calc(50% - 12px);\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\trx: 8px;\n\t\t\ttransition: all 400ms ease;\n\t\t}\n\t</style>\n\n\t<svg class="callout-vilon">\n\t\t<defs>\n\t\t\t<mask id="callout-mask">\n\t\t\t\t<rect class="mask-overlay"/>\n\t\t\t\t<rect class="mask-window"/>\n\t\t\t</mask>\n\t\t</defs>\n\t\t<rect x="0" y="0" width="100%" height="100%" mask="url(#callout-mask)"/>\n\t</svg>\n\t<div class="man-pan">\n\t\t<div class="button prev">&#11207;</div>\n\t\t<div class="button next">&#11208;</div>\n\t\t<div class="button close">&times;</div>\n\t</div>\n',customElements.define("call-out",class extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(l.content.cloneNode(!0)),t.querySelector(".button.next").addEventListener("click",()=>{this[n]()}),t.querySelector(".button.prev").addEventListener("click",()=>{this[o]()}),t.querySelector(".button.close").addEventListener("click",()=>{this.parentNode.removeChild(this),this.dispatchEvent(new Event("close"))}),this[e]=-1}[n](){const n=this[t],o=this[e]+1;n&&n.length?o>=n.length?console.error('should NOT "next" after last'):(this[s](n[o]),this[e]=o,0===o?this.classList.add("first"):this.classList.remove("first"),o===n.length-1&&this.classList.add("last")):console.error("no entries list")}[o](){const n=this[t],o=this[e]-1;n&&n.length?o<0?console.error('should NOT "prev" before first'):(this[s](n[o]),this[e]=o,0===o&&this.classList.add("first"),o===n.length-2&&this.classList.remove("last")):console.error("no entries list")}[s](t){this.ensureElementSeen(t.target);const e=this.getScreenRect(t.target),n={x:e.x-4+"px",y:e.y-4+"px",width:Math.max(16,e.width)+8+"px",height:Math.max(16,e.height)+8+"px"},o=this.shadowRoot.querySelector(".mask-window");Object.assign(o.style,n);const s=this.shadowRoot.querySelector(".man-pan");e.bottom>document.documentElement.clientHeight/2?(s.classList.remove("below"),s.classList.add("above")):(s.classList.remove("above"),s.classList.add("below"))}ensureElementSeen(t){t.scrollIntoView()}getScreenRect(t){return t.getBoundingClientRect()}});